<!-- src/app/prompt-designer/prompt-designer.component.html -->  
<div class="designer-panel">  
    <h3>Prompt Designer</h3>  
    
    <!-- Tab Group -->  
    <mat-tab-group  
      [(selectedIndex)]="selectedTabIndex"  
      (selectedTabChange)="onTabChange($event)"  
      class="designer-tabs"  
    >  
      <!-- Core Prompt Tab -->  
      <mat-tab label="Core Prompt">  
        <ng-template matTabContent>  
          <div class="prompt-editor-container">  
            <!-- Loading Indicator -->  
            <div *ngIf="loadingPrompt" class="loading-overlay">  
              <mat-spinner></mat-spinner>  
            </div>  
    
            <!-- Prompt Editor Field -->  
            <div class="prompt-editor-field">  
              <textarea  
                matInput  
                [(ngModel)]="promptContent"  
                [disabled]="loadingPrompt"  
                placeholder="Edit Core Prompt..."  
              ></textarea>  
            </div>  
    
            <!-- Actions -->  
            <div class="prompt-actions">  
              <button  
                mat-raised-button  
                color="primary"  
                (click)="savePrompt()"  
                [disabled]="loadingPrompt"  
              >  
                Save Prompt  
              </button>  
            </div>  
          </div>  
        </ng-template>  
      </mat-tab>  
    
      <!-- Main Prompt Tab -->  
      <mat-tab label="Main Prompt">  
        <ng-template matTabContent>  
          <div class="prompt-editor-container">  
            <!-- Loading Indicator -->  
            <div *ngIf="loadingPrompt" class="loading-overlay">  
              <mat-spinner></mat-spinner>  
            </div>  
    
            <!-- Prompt Editor Field -->  
            <div class="prompt-editor-field">  
              <textarea  
                matInput  
                [(ngModel)]="promptContent"  
                [disabled]="loadingPrompt"  
                placeholder="Edit Main Prompt..."  
              ></textarea>  
            </div>  
    
            <!-- Actions -->  
            <div class="prompt-actions">  
              <button  
                mat-raised-button  
                color="primary"  
                (click)="savePrompt()"  
                [disabled]="loadingPrompt"  
              >  
                Save Prompt  
              </button>  
            </div>  
          </div>  
        </ng-template>  
      </mat-tab>  
    
      <!-- Subprompts Tab -->  
      <mat-tab label="Subprompts">  
        <ng-template matTabContent>  
          <!-- Subprompt Container with Grid -->  
          <div class="subprompt-container">  
            <!-- Subprompt Header -->  
            <div class="subprompt-header">  
              <!-- Subprompt Selector -->  
              <mat-form-field appearance="fill" class="subprompt-selector">  
                <mat-label>Select Subprompt</mat-label>  
                <mat-select  
                  [(value)]="selectedSubprompt"  
                  (selectionChange)="onSubpromptSelectionChange($event.value)"  
                >  
                  <mat-option  
                    *ngFor="let subprompt of availableSubprompts"  
                    [value]="subprompt"  
                  >  
                    {{ subprompt }}  
                  </mat-option>  
                </mat-select>  
              </mat-form-field>  
    
              <!-- Actions -->  
              <div class="subprompt-actions">  
                <button mat-raised-button color="primary" (click)="createSubprompt()">  
                  New Subprompt  
                </button>  
                <button  
                  mat-raised-button  
                  color="warn"  
                  (click)="deleteSubprompt()"  
                  [disabled]="!selectedSubprompt"  
                >  
                  Delete Subprompt  
                </button>  
              </div>  
            </div>  
    
            <!-- Prompt Editor Container -->  
            <div class="prompt-editor-container">  
              <!-- Loading Indicator -->  
              <div *ngIf="loadingPrompt" class="loading-overlay">  
                <mat-spinner></mat-spinner>  
              </div>  
    
              <!-- Prompt Editor Field -->  
              <div class="prompt-editor-field">  
                <textarea  
                  matInput  
                  [(ngModel)]="promptContent"  
                  [disabled]="loadingPrompt || !selectedSubprompt"  
                  placeholder="Edit Subprompt..."  
                ></textarea>  
              </div>  
    
              <!-- Save Button -->  
              <div class="prompt-actions">  
                <button  
                  mat-raised-button  
                  color="primary"  
                  (click)="savePrompt()"  
                  [disabled]="loadingPrompt || !selectedSubprompt"  
                >  
                  Save Subprompt  
                </button>  
              </div>  
            </div>  
          </div>  
        </ng-template>  
      </mat-tab>  
    </mat-tab-group>  
  </div>  
  