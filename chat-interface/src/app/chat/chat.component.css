/* Global Box Sizing */  
*, *::before, *::after {  
  box-sizing: border-box;  
}  
  
/* Main Container using CSS Grid */  
.main-container {  
  display: grid;  
  grid-template-columns: auto 5px 1fr; /* Designer panel, splitter, chat container */  
  grid-template-rows: calc(100vh - 64px); /* Ajuster selon la hauteur de la toolbar */  
  overflow: hidden;  
  min-height: 0;  
}  
  
/* Ajustement lorsque le designer est caché */  
.main-container.no-designer {  
  grid-template-columns: 1fr;  
}  
  
/* Designer panel styles */  
.designer-panel {  
  display: grid;  
  grid-template-rows: auto 1fr;  
  height: 100%;  
  background-color: #ffffff;  
  border-right: 1px solid #ddd;  
  overflow: hidden;  
}  
  
.designer-panel > h3 {  
  margin: 0;  
  padding: 16px;  
  background-color: #f5f5f5;  
  border-bottom: 1px solid #ddd;  
}  
  
/* Splitter styles */  
.splitter {  
  grid-column: 2 / 3;  
  grid-row: 1 / 2;  
  width: 5px;  
  background-color: #ddd;  
  cursor: col-resize;  
}  
  
.splitter:hover {  
  background-color: #aaa;  
}  
  
/* Chat container styles */  
.chat-container {  
  grid-column: 3 / 4;  
  grid-row: 1 / 2;  
  display: flex;  
  flex-direction: column;  
  background-color: #f5f7fa;  
  overflow: hidden;  
  min-width: 500px;  
}  
  
.main-container.no-designer .chat-container {  
  grid-column: 1 / -1;  
  width: 100%;  
  max-width: 1200px;  
  margin: 0 auto;  
}  
  
/* Toolbar styling */  
.mat-toolbar {  
  background-color: #3b3e47;  
  color: #ffffff;  
  font-size: 1.1rem;  
  font-family: 'Montserrat', sans-serif;  
  box-shadow: none;  
}  
  
.mat-toolbar .spacer {  
  flex: 1 1 auto;  
}  
  
.mat-toolbar button[mat-button] {  
  color: #ffffff !important;  
  font-weight: normal;  
}  
  
.mat-toolbar button[mat-button].active {  
  font-weight: bold;  
}  
  
.mat-toolbar button[mat-button]:hover {  
  background-color: #5e6373 !important;  
}  
  
.mat-toolbar button[mat-button]:focus,  
.mat-toolbar button[mat-button]:active {  
  background-color: #2e3137 !important;  
  color: #ffffff !important;  
}  
  
button.active {  
  background-color: #2e3137 !important;  
  color: #ffffff !important;  
}  
  
.mat-toolbar .mat-icon {  
  color: #ffffff;  
}  
  
/* Designer Tabs */  
.designer-tabs {  
  height: 100%;  
  display: grid;  
  grid-template-rows: auto 1fr; /* Tabs header, content */  
}  
  
.designer-panel .mat-tab-group {  
  height: 100%;  
  display: grid;  
  grid-template-rows: auto 1fr;  
}  
  
.designer-panel .mat-tab-body-wrapper,  
.designer-panel .mat-tab-body {  
  height: 100%;  
  overflow: hidden;  
}  
  
/* Prompt Editor Container */  
.prompt-editor-container {  
  height: 100%;  
  display: grid;  
  grid-template-rows: 1fr auto; /* Editor, actions */  
  position: relative;  
}  
  
/* Loading Overlay */  
.loading-overlay {  
  position: absolute;  
  top: 0;  
  left: 0;  
  width: 100%;  
  height: 100%;  
  background-color: rgba(255, 255, 255, 0.7);  
  display: flex;  
  align-items: center;  
  justify-content: center;  
  z-index: 2;  
}  
  
.loading-overlay mat-spinner {  
  width: 50px;  
  height: 50px;  
}  
  
/* Prompt Editor Field */  
.prompt-editor-field {  
  position: relative; 
}  
  
.prompt-editor-field textarea {  
  width: 100%;  
  height: calc(100% - 32px); /* Ajuster la hauteur pour le padding */  
  resize: none;  
  padding: 16px;  
  box-sizing: border-box; /* Assure que le padding est inclus dans les dimensions */  
  border: none;  
  border-radius: 4px;  
  overflow-y: auto; /* Le textarea gère son propre défilement */  
  
  /* Styles existants */  
  font-family: 'Roboto Mono', monospace;  
  font-size: 14px;  
  line-height: 1.5;  
  color: #ffffff;  
  background-color: #1a1a1a;  
}  

/* Scrollbar styling for textarea */  
.prompt-editor-field textarea::-webkit-scrollbar {  
  width: 8px;  
}  
  
.prompt-editor-field textarea::-webkit-scrollbar-thumb {  
  background-color: #555555;  
  border-radius: 4px;  
}  
  
.prompt-editor-field textarea::-webkit-scrollbar-thumb:hover {  
  background-color: #777777;  
}  
  
.prompt-editor-field textarea::-webkit-scrollbar-track {  
  background-color: #1a1a1a;  
}  
  
.prompt-editor-field textarea::placeholder {  
  color: #cccccc;  
}  
  
/* Prompt Actions */  
.prompt-actions {  
  display: flex;  
  justify-content: flex-end;  
  padding: 8px 16px;  
  background-color: #ffffff;  
  border-top: 1px solid #ddd;  
  box-sizing: border-box;  
}  
  
/* Save Button styling */  
.prompt-actions button[mat-raised-button] {  
  color: #ffffff;  
  background-color: #3b3e47;  
}  
  
.prompt-actions button[mat-raised-button]:hover {  
  background-color: #5e6373;  
}  
  
/* Subprompt Header */  
.subprompt-header {  
  display: grid;  
  grid-template-columns: 1fr auto;  
  gap: 16px;  
  padding: 16px;  
  border-bottom: 1px solid #ddd;  
}  
  
.subprompt-selector {  
  width: 100%;  
}  
  
.subprompt-actions {  
  display: flex;  
  gap: 8px;  
}  
  
/* Message list styling */  
.message-list {  
  flex: 1 1 auto; 
  overflow-y: auto;  
  padding: 4px 10px;  
  max-width: 100%;  
  background-color: #f5f7fa;  
}  
  
/* Message bubbles */  
.message {  
  margin-bottom: 4px;  
  display: flex;  
  flex-direction: column;  
  width: 100%;  
}  
  
.message.user {  
  align-items: flex-end;  
}  
  
.message.assistant,  
.message.internal {  
  align-items: flex-start;  
}  
  
.message.hidden {  
  display: none !important;  
}  
  
.message.assistant .message-content,  
.message.full-width .message-content {  
  max-width: none;  
  width: 100%;  
  background-color: #ffffff;  
  padding: 6px 8px;  
  box-sizing: border-box;  
  border: 1px solid #ddd;  
  border-radius: 8px;  
}  
  
.message.user .message-content {  
  background-color: #f0f0f0;  
  max-width: 85%;  
  text-align: left;  
  border-radius: 12px 12px 0 12px;  
  padding: 6px 8px;  
}  
  
.message.internal .message-content {  
  background-color: #eeeeee;  
  text-align: left;  
  padding: 6px;  
}  
  
.message.assistant.full-width .message-content {  
  background-color: #ffffff;  
  color: #333333;  
  text-align: left;  
  width: 100% !important;  
  border: 1px solid #ddd;  
  padding: 6px 8px;  
  box-sizing: border-box;  
  border-radius: 0px;  
}  
  
.message.file-upload .message-content {  
  background-color: #ffffff;  
  text-align: left;  
  padding: 6px 8px;  
  box-sizing: border-box;  
  width: 100%;  
  border: 1px solid #ddd;  
  border-radius: 0px;  
  max-width: none !important;  
}  

.file-header {  
  display: flex;  
  justify-content: space-between;  
  align-items: center;  
  margin-bottom: 8px; /* Ajustez la marge si nécessaire */  
}  

.message-content {  
  padding: 6px 8px;  
  border-radius: 12px;  
  font-size: 0.9em;  
  max-width: 85%;  
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);  
}  
  
/* Message info */  
.message-info {  
  font-size: 0.8em;  
  color: #6d6d6d;  
  display: flex;  
  align-items: center;  
  gap: 6px;  
  margin-bottom: 2px;  
}  
  
/* Reactions */  
.reactions {  
  display: flex;  
  gap: 4px;  
}  
  
.reactions span {  
  font-size: 1.1em;  
}  
  
/* Sender name and timestamp */  
.sender-name {  
  font-weight: bold;  
}  
  
.timestamp {  
  color: #9a9a9a;  
  font-size: 0.75em;  
}  
  
/* Input area */  
.input-area {  
  display: flex;  
  padding: 8px;  
  background-color: #ffffff;  
  align-items: center;  
  border-top: 1px solid #ddd;  
}  
  
/* Message input */  
.message-input {  
  flex: 1;  
  margin-right: 8px;  
}  
  
.message-input textarea {  
  width: 100%;  
  height: 80px; /* Hauteur uniforme */  
  resize: none;  
  padding: 10px;  
  border-radius: 5px;  
  border: 1px solid #ddd;  
  font-family: 'Roboto', sans-serif;  
  font-size: 14px;  
}  
  
/* Buttons */  
#sendButton,  
#stopButton {  
  height: 56px;  
}  
  
button[mat-raised-button] {  
  min-width: 64px;  
}  
  
/* Code block styling */  
code[class*="language-"],  
pre[class*="language-"] {  
  font-size: 0.85em;  
  background-color: #2e2e2e;  
  color: #ffffff;  
  border-radius: 5px;  
  padding: 14px;  
  white-space: pre-wrap;  
  word-break: break-word;  
  font-family: 'Fira Code', monospace;  
}  
  
pre[class*="language-"] {  
  max-width: 100%;  
  overflow-x: auto;  
}  
  
/* Styling for rendered markdown content */  
markdown {  
  font-family: 'Roboto', sans-serif;  
  line-height: 1.6;  
  color: #333;  
}  
  
/* Code block styles */  
pre {  
  background-color: #2d2d2d;  
  color: #ccc;  
  border-radius: 6px;  
  padding: 16px;  
  overflow-x: auto;  
}  
  
code {  
  background-color: #f1f1f1;  
  color: #d63384;  
  padding: 2px 4px;  
  border-radius: 4px;  
}  

.subprompt-container {  
  height: 100%;  
  display: grid;  
  grid-template-rows: auto 1fr; /* Header, content */  
  overflow: hidden;  
}  

  
/* Subprompt Header */  
.subprompt-header {  
  display: flex;  
  align-items: center;  
  gap: 16px;  
  padding: 16px;  
  border-bottom: 1px solid #ddd;  
}  
  
/* Subprompt Selector */  
.subprompt-selector {  
  flex: 1;  
}  
  
/* Subprompt Actions */  
.subprompt-actions {  
  display: flex;  
  gap: 8px;  
}  
  
/* Prompt Editor Container inside Subprompt */  
.subprompt-container .prompt-editor-container {  
  height: 100%;  
  display: grid;  
  grid-template-rows: 1fr auto; /* Editor field, actions */  
  position: relative;  
}  
  
/* Prompt Editor Field */  
.subprompt-container .prompt-editor-field {  
  position: relative;  
  overflow: hidden;  
}  
  
/* Textarea Styling */  
.subprompt-container .prompt-editor-field textarea {  
  width: 100%;  
  height: 100%;  
  resize: none;  
  padding: 16px;  
  box-sizing: border-box;  
  border: none;  
  border-radius: 4px;  
  overflow-y: auto;  
  
  /* Existing styles */  
  font-family: 'Roboto Mono', monospace;  
  font-size: 14px;  
  line-height: 1.5;  
  color: #ffffff;  
  background-color: #1a1a1a;  
}  
  
/* Ensure the prompt-actions stay at the bottom */  
.subprompt-container .prompt-actions {  
  display: flex;  
  justify-content: flex-end;  
  padding: 8px 16px;  
  background-color: #ffffff;  
  border-top: 1px solid #ddd;  
  box-sizing: border-box;  
}  